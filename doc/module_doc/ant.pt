\File{(stdin)}{Sat Sep  6 01:10:31 2008}

\PythonNoMath

\PythonDocBlock
\verb""\\ 
\verb"Module for representing the geometry of an array of antennas and generating"\\ 
\verb"phasing information."\\ 

\PythonDocBlockEnd

\I{7}{0}$\K{class}\ \F{PointingError}\,(\V{Exception})\Y{:}$
\I{8}{1}$\K{def}\ \F{\_\_init\_\_}\,(\V{self},\V{value})\Y{:}\V{self}.\V{parameter}\Y{=}\V{value}$
\I{9}{1}$\K{def}\ \F{\_\_str\_\_}\,(\V{self})\Y{:}\ \K{return}\ \F{repr}\,(\V{self}.\V{parameter})$
\I{18}{0}$\K{def}\ \F{juldate2ephem}\,(\V{num})\Y{:}$
\DS{19}{1}{%
\verb"Convert Julian date to ephem date, measured from noon, Jan. 1, 1900."}\vskip 5pt 

\I{22}{0}$\K{def}\ \F{ephem2juldate}\,(\V{num})\Y{:}$
\DS{23}{1}{%
\verb"Convert ephem date (measured from noon, Jan. 1, 1900) to Julian date."}\vskip 5pt 

\I{33}{0}$\K{class}\ \V{RadioBody}\Y{:}$
\DS{34}{1}{%
\verb"Class representing coordinates of a celestial source."}\vskip 5pt 
\I{35}{1}$\K{def}\ \F{\_\_init\_\_}\,(\V{self},\V{name}\Y{=}{}$

\I{37}{1}$\K{def}\ \F{compute}\,(\V{self},\V{observer})\Y{:}$
\DS{38}{2}{%
\verb"Update coordinates relative to the provided observer.  Must be"\\ 
\verb"called at each time step before accessing information."}\vskip 5pt 



\I{45}{1}$\K{def}\ \F{get\_crd}\,(\V{self},\V{crdsys},\V{ncrd}\Y{=}\NUM{3}{})\Y{:}$
\DS{46}{2}{%
\verb"Return the coordinates of this location in the desired coordinate"\\ 
\verb"system ('eq','top') in the current epoch.  If ncrd=2, angular"\\ 
\verb"coordinates (ra/dec,az/alt) are returned, and if ncrd=3,"\\ 
\verb"xyz coordinates are returned."}\vskip 5pt 








\I{66}{0}$\K{class}\ \F{RadioFixedBody}\,(\V{ephem}.\V{FixedBody},\V{RadioBody})\Y{:}$
\DS{67}{1}{%
\verb"Class representing a source at fixed RA,DEC.  Combines ephem.FixedBody "\\ 
\verb"with RadioBody."}\vskip 5pt 
\I{69}{1}$\K{def}\ \F{\_\_init\_\_}\,(\V{self},\V{ra},\V{dec},\V{name}\Y{=}{}$
\DS{70}{2}{%
\verb"ra = source's right ascension (epoch=J2000)"\\ 
\verb"dec = source's declination (epoch=J2000)"}\vskip 5pt 



\I{75}{1}$\K{def}\ \F{compute}\,(\V{self},\V{observer})\Y{:}$


\I{86}{0}$\K{class}\ \F{RadioSpecial}\,(\V{RadioBody},\V{object})\Y{:}$
\DS{87}{1}{%
\verb"Class representing moving sources (Sun,Moon,planets).  Combines ephem"\\ 
\verb"versions of these objects with RadioBody."}\vskip 5pt 
\I{89}{1}$\K{def}\ \F{\_\_init\_\_}\,(\V{self},\V{name},\O{**}\V{kwargs})\Y{:}$
\DS{90}{2}{%
\verb"name is used to lookup appropriate ephem celestial object."}\vskip 5pt 


\I{93}{1}$\K{def}\ \F{\_\_getattr\_\_}\,(\V{self},\V{nm})\Y{:}$
\DS{94}{2}{%
\verb"When getting an attribute, first try to get it from this class,"\\ 
\verb"and if that fails, try to get it from the underlying ephem object."}\vskip 5pt 


\I{98}{1}$\K{def}\ \F{\_\_setattr\_\_}\,(\V{self},\V{nm},\V{val})\Y{:}$
\DS{99}{2}{%
\verb"When setting an attribute, first try to set it for this class,"\\ 
\verb"and if that fails, try to set it for the underlying ephem object."}\vskip 5pt 


\I{103}{1}$\K{def}\ \F{compute}\,(\V{self},\V{observer})\Y{:}$


\I{114}{0}$\K{class}\ \F{SrcCatalog}\,(\V{dict})\Y{:}$
\DS{115}{1}{%
\verb"Class for holding a catalog of celestial sources."}\vskip 5pt 
\I{116}{1}$\K{def}\ \F{\_\_init\_\_}\,(\V{self},\V{srcs},\O{**}\V{kwargs})\Y{:}$


\I{119}{1}$\K{def}\ \F{add\_src}\,(\V{self},\V{src})\Y{:}$
\DS{120}{2}{%
\verb"Add provided src object (RadioFixedBody,RadioSpecial) to catalog."}\vskip 5pt 

\I{122}{1}$\K{def}\ \F{get\_srcs}\,(\V{self},\Y{*}\V{args})\Y{:}$
\DS{123}{2}{%
\verb"Return list of all src objects in catalog."}\vskip 5pt 

\I{125}{1}$\K{def}\ \F{compute}\,(\V{self},\V{observer})\Y{:}$
\DS{126}{2}{%
\verb"Call compute method of all objects in catalog."}\vskip 5pt 

\I{128}{1}$\K{def}\ \F{get\_crds}\,(\V{self},\V{crdsys},\V{ncrd}\Y{=}\NUM{3}{},\V{srcs}\Y{=}\V{None})\Y{:}$
\DS{129}{2}{%
\verb"Return coordinates of all objects in catalog."}\vskip 5pt 



\I{140}{0}$\K{class}\ \V{Beam}\Y{:}$
\DS{141}{1}{%
\verb"Template for representing antenna beam pattern.  Beams also hold"\\ 
\verb"info about which frequencies are active (i.e. Antennas and AntennaArrays"\\ 
\verb"access frequencies through Beam)."}\vskip 5pt 
\I{144}{1}$\K{def}\ \F{\_\_init\_\_}\,(\V{self},\V{freqs},\V{active\_chans}\Y{=}\V{None},\O{**}\V{kwargs})\Y{:}$
\DS{145}{2}{%
\verb"freqs = frequencies (in GHz) at bin centers across spectrum"\\ 
\verb"active_chans = indices of channels to use for future calculations."}\vskip 5pt 


\I{149}{1}$\K{def}\ \F{select\_chans}\,(\V{self},\V{active\_chans}\Y{=}\V{None})\Y{:}$
\DS{150}{2}{%
\verb"Select only enumerated channels to use for future calculations."}\vskip 5pt 



\I{161}{0}$\K{class}\ \V{Antenna}\Y{:}$
\DS{162}{1}{%
\verb"Representation of physical attributes of individual antenna in array."}\vskip 5pt 
\I{163}{1}$\K{def}\ \F{\_\_init\_\_}\,(\V{self},x,y,z,\V{beam},\V{delay}\Y{=}\NUM{0}{}.,\V{offset}\Y{=}\NUM{0}{}.,\O{**}\V{kwargs})\Y{:}$
\DS{164}{2}{%
\verb"x,y,z = antenna coordinates in equatorial (ns) coordinates"\\ 
\verb"beam = Beam object"\\ 
\verb"delay = signal delay (linear phase vs. frequency)"\\ 
\verb"offset = signal phase offset (constant phase vs. frequency)"}\vskip 5pt 







\I{176}{1}$\K{def}\ \F{select\_chans}\,(\V{self},\V{active\_chans}\Y{=}\V{None})\Y{:}$
\DS{177}{2}{%
\verb"Select only enumerated channels to use for future calculations."}\vskip 5pt 





\I{183}{1}$\K{def}\ \F{\_\_tuple\_\_}\,(\V{self})\Y{:}\ \K{return}\ (\V{self}.\V{pos}[\NUM{0}{}],\V{self}.\V{pos}[\NUM{1}{}],\V{self}.\V{pos}[\NUM{2}{}])$
\I{184}{1}$\K{def}\ \F{\_\_list\_\_}\,(\V{self})\Y{:}\ \K{return}\ [\V{self}.\V{pos}[\NUM{0}{}],\V{self}.\V{pos}[\NUM{1}{}],\V{self}.\V{pos}[\NUM{2}{}]]$
\I{185}{1}$\K{def}\ \F{\_\_add\_\_}\,(\V{self},a)\Y{:}\ \K{return}\ \V{self}.\V{pos}\Y{+}a.\V{pos}$

\I{187}{1}$\K{def}\ \F{\_\_neg\_\_}\,(\V{self})\Y{:}\ \K{return}\ \Y{-}\V{self}.\V{pos}$
\I{188}{1}$\K{def}\ \F{\_\_sub\_\_}\,(\V{self},a)\Y{:}\ \K{return}\ \V{self}.\V{pos}\Y{-}a.\V{pos}$
\I{189}{1}$\K{def}\ \F{\_\_rsub\_\_}\,(\V{self},a)\Y{:}\ \K{return}\ a.\V{pos}\Y{-}\V{self}.\V{pos}$
\I{198}{0}$\K{class}\ \F{ArrayLocation}\,(\V{ephem}.\V{Observer})\Y{:}$
\DS{199}{1}{%
\verb"Representation of location and time of an observation."}\vskip 5pt 
\I{200}{1}$\K{def}\ \F{\_\_init\_\_}\,(\V{self},\V{location})\Y{:}$
\DS{201}{2}{%
\verb"location = (lat, long, [elev]) of array"}\vskip 5pt 



\I{205}{1}$\K{def}\ \F{update\_location}\,(\V{self},\V{location})\Y{:}$
\DS{206}{2}{%
\verb"Initialize antenna array wth provided location.  May be (lat, long) "\\ 
\verb"or (lat, long, elev)."}\vskip 5pt 


\I{210}{1}$\K{def}\ \F{set\_jultime}\,(\V{self},t\Y{=}\V{None})\Y{:}$
\DS{211}{2}{%
\verb"Set current time as a Julian date."}\vskip 5pt 


\I{214}{1}$\K{def}\ \F{set\_ephemtime}\,(\V{self},t\Y{=}\V{None})\Y{:}$
\DS{215}{2}{%
\verb"Set current time as derived from the ephem package."}\vskip 5pt 


\I{226}{0}$\K{class}\ \F{AntennaArray}\,(\V{ArrayLocation})\Y{:}$
\DS{227}{1}{%
\verb"Representation of collection of antennas, their spacings, and"\\ 
\verb"   location/time of observations."}\vskip 5pt 
\I{229}{1}$\K{def}\ \F{\_\_init\_\_}\,(\V{self},\V{location},\V{ants},\O{**}\V{kwargs})\Y{:}$
\DS{230}{2}{%
\verb" location = (lat, long, [elev]) of array"\\ 
\verb"ants = list of Antenna objects."}\vskip 5pt 



\I{235}{1}$\K{def}\ \F{update\_antennas}\,(\V{self},\V{ants})\Y{:}$
\DS{236}{2}{%
\verb"Update antenna array to use the provided list of Antenna objects."}\vskip 5pt 


\I{239}{1}$\K{def}\ \F{update}\,(\V{self})\Y{:}$
\DS{240}{2}{%
\verb"Update variables derived from antenna parameters/active channels."}\vskip 5pt 












\I{255}{1}$\K{def}\ \F{set\_ephemtime}\,(\V{self},t\Y{=}\V{None})\Y{:}$
\DS{256}{2}{%
\verb"Set current time as derived from the ephem package.  Recalculates"\\ 
\verb"matrix for projecting baselines into current positions."}\vskip 5pt 



\I{262}{1}$\K{def}\ \F{select\_chans}\,(\V{self},\V{active\_chans}\Y{=}\V{None})\Y{:}$
\DS{263}{2}{%
\verb"Select which channels are used in computations.  Default is all."}\vskip 5pt 


\I{266}{1}$\K{def}\ \F{ij2bl}\,(\V{self},i,j)\Y{:}$
\DS{267}{2}{%
\verb"Convert baseline i,j (0 indexed) to Miriad's (i+1) << 8 | (j+1) "\\ 
\verb"indexing scheme."}\vskip 5pt 

\I{270}{1}$\K{def}\ \F{bl2ij}\,(\V{self},\V{bl})\Y{:}$
\DS{271}{2}{%
\verb"Convert Miriad's (i+1) << 8 | (j+1) baseline indexing scheme to "\\ 
\verb"i,j (0 indexed)"}\vskip 5pt 


\I{275}{1}$\K{def}\ \F{get\_baseline}\,(\V{self},i,j,\V{src}\Y{=}{}$
\DS{276}{2}{%
\verb"Return the baseline corresponding to i,j in various coordinate "\\ 
\verb"projections: src='e' for current equatorial, 'z' for zenith "\\ 
\verb"topocentric, 'r' for unrotated equatorial, or a RadioBody for"\\ 
\verb"projection toward that source."}\vskip 5pt 








\I{288}{1}$\K{def}\ \F{get\_delay}\,(\V{self},i,j)\Y{:}$
\DS{289}{2}{%
\verb"Return the delay corresponding to baseline i,j."}\vskip 5pt 

\I{291}{1}$\K{def}\ \F{get\_offset}\,(\V{self},i,j)\Y{:}$
\DS{292}{2}{%
\verb"Return the delay corresponding to baseline i,j."}\vskip 5pt 

\I{294}{1}$\K{def}\ \F{gen\_uvw}\,(\V{self},i,j,\V{src}\Y{=}{}$
\DS{295}{2}{%
\verb"Compute uvw coordinates of baseline relative to provided RadioBody, "\\ 
\verb"or 'z' for zenith uvw coordinates."}\vskip 5pt 




\I{301}{1}$\K{def}\ \F{gen\_phs}\,(\V{self},\V{src},i,j,\V{angsize}\Y{=}\V{None})\Y{:}$
\DS{302}{2}{%
\verb"Return phasing that is multiplied to data to point to src."}\vskip 5pt 











\I{314}{1}$\K{def}\ \F{resolve\_src}\,(\V{self},\V{src},i,j,\V{angsize}\Y{=}\V{None})\Y{:}$
\DS{315}{2}{%
\verb"If angsize is provided, amplitudes will be adjusted to reflect "\\ 
\verb"resolution effects for a uniform disc of the provided angular "\\ 
\verb"radius (radians)."}\vskip 5pt 













\I{333}{1}$\K{def}\ \F{phs2src}\,(\V{self},\V{data},\V{src},i,j)\Y{:}$
\DS{334}{2}{%
\verb"Apply phasing to zenith-phased data to point to src."}\vskip 5pt 

\I{336}{1}$\K{def}\ \F{unphs2src}\,(\V{self},\V{data},\V{src},i,j)\Y{:}$
\DS{337}{2}{%
\verb"Remove phasing from src-phased data to point to zenith."}\vskip 5pt 

\I{339}{1}$\K{def}\ \F{rmsrc}\,(\V{self},\V{data},\V{srcs},i,j,\V{swath}\Y{=}\NUM{0}{},\V{norm\_bandpass}\Y{=}\V{None})\Y{:}$
\DS{340}{2}{%
\verb"Remove src flux from data by phasing to each src and removing signal"\\ 
\verb"within swath bins of 0 in lag domain (Fourier transform of the "\\ 
\verb"frequency axis)."}\vskip 5pt 














