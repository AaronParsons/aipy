import ant, sim, fit

specials = ['Sun', 'Moon', 'Mercury', 'Venus', 'Mars', 'Jupiter',
    'Saturn', 'Uranus', 'Neptune']
src_data = {
    #             RA          DEC         FLUX  FREQ, INDEX
    #'Moon'  : (None        , None,           0, .150,  0.10 ),
    #'Mercury': (None        , None,          0, .150,  0.10 ),
    #'Venus':   (None        , None,          0, .150,  0.10 ),
    #'Mars':    (None        , None,          0, .150,  0.10 ),
    #'Jupiter': (None        , None,          0, .150,  0.10 ),
    #'Saturn' : (None        , None,          0, .150,  0.10 ),
    #'Uranus' : (None        , None,          0, .150,  0.10 ),
    #'Neptune': (None        , None,          0, .150,  0.10 ),
    'b0320': ('03:20:00.0', '-37:18:00',   259, .408, -0.8 , 0.),
    #'3c123': ('04:37:04.6', '+29:41:16',   247, .160, -0.73, 0.),
    'pic'  : ('05:18:20.2', '-45:49:31',   452, .160, -0.8 , 0.),
    #'hyd'  : ('09:15:42.4', '-11:53:13',   243, .160, -1.12, 0.),
    #'hyd'  : ('09:18:06.9', '-12:05:52',   243, .160, -1.12, 0.),
    #'3c273': ('12:26:32.1', '+02:19:14',   102, .160, -0.61, 0.),
    #'vir'  : ('12:30:49.4', '+12:23:28',   566, .160, -1.54, 0.),
    #'vir'  : ('12:30:49.4', '+12:23:28',   1277, .143, -0.8, 0.),
    #'cen'  : ('13:22:34.3', '-42:44:15',  1104, .160, -0.52, 3.5e-3),
    'cen'  : ('13:22:34.3', '-42:44:15',  7104, .160, -0.52, 3.5e-3),
    #'her'  : ('16:48:39.3', '+05:04:17',   378, .160, -1.15, 0.),
    #'3c353': ('17:17:54.1', '-00:55:40',   276, .160, -0.49, 0.),
    # Fluxes from Baars 1972:
    'cas'  : ('23:23:25.4', '+58:48:38', 12800, .152, -0.787, 0.),
    'cyg'  : ('19:59:28.3', '+40:44:02', 10500, .152, -0.8, 0.), # Index est
    #'crab' : ('05:34:32.0', '+22:00:52',  1430, .152, -0.263, 0.),
    #'vir'  : ('12:30:49.4', '+12:23:28',  605, .408, -.853, 0.), # Flux est
    # Fit values:
    'Sun'  : (None, None, 16500, .150,  -.888, 8.7e-3),
    '3c84' : ('03:19:47.3', '+41:29:22',   80, .160, -0.79, 0.),
    '3c111': ('04:18:16.2', '+38:01:49',   65, .160, -2.13, 0.),
    '3c123': ('04:37:00.5', '+29:40:25',   234, .160, -1.07, 0.),
    '3c129': ('04:48:44.3', '+45:00:32',   22, .160, -4.25, 0.),
    '3c134': ('05:04:42.7', '+38:06:28',   81, .160, -2.55, 0.),
    'crab' : ('05:34:28.3', '+22:01:30',  1370, .152, -0.96, 0.),
    '3c157': ('06:17:31.3', '+22:44:08',   75, .160, -2.56, 0.),
   '3cr196': ('08:13:35.9', '+48:12:59',  68, .160, -1.53, 0.),
    'hyd'  : ('09:18:00.3', '-12:05:39',  1860, .160, -2.30, 0.),
   '3cr219': ('09:21:02.4', '+45:39:21',  40, .160, -2.38, 0.),
   '3cr225': ('09:42:13.7', '+13:46:15',  26, .160, -2.67, 0.),
   '3cr227': ('09:47:43.7', '+07:27:33',  56, .160, -3.31, 0.),
   '3cr234': ('10:01:45.6', '+28:47:22',  36, .160, -3.04, 0.),
    'vir'  : ('12:30:44.4', '+12:22:54',   1615, .143, -2.23, 0.),
   '3cr295': ('14:11:13.5', '+52:12:10',  81, .160, -1.12, 0.),
   '3cr310': ('15:04:56.2', '+26:00:55',  59, .160, -3.06, 0.),
    'her'  : ('16:45:27.2', '+05:18:25',  121, .160, -4.21, 0.),
    'sgr'  : ('17:45:40.0', '-29:00:28',  121, .160, -4.21, 0.),
}

def get_src(s, type='fit'):
    """Return a source created out of the parameters in the dictionary srcs.
    'type' can be 'fit', 'sim', 'ant' depending on which aipy module you
    want to use (and what functionality you need)."""
    ra, dec, st, mfreq, index, angsize = src_data[s]
    mdl = eval(type)
    if s in specials:
        src = mdl.RadioSpecial(s, st, mfreq=mfreq, index=index, angsize=angsize)
    else:
        src = mdl.RadioFixedBody(ra, dec, janskies=st, mfreq=mfreq, 
            index=index, name=s, angsize=angsize)
    return src

def get_catalog(srcs=None, type='fit'):
    if srcs is None: srcs = src_data.keys()
    srcs = [get_src(s, type=type) for s in srcs]
    mdl = eval(type)
    return mdl.SrcCatalog(srcs)
